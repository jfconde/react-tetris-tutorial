(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{12:function(n,l,t){},13:function(n,l,t){},14:function(n,l,t){"use strict";t.r(l);var e=t(0),u=t.n(e),r=t(5),a=t.n(r),o=(t(12),t(13),t(3)),c=t(2),i=t(1),f=function(n){var l=n.children;return u.a.createElement("div",{className:"row"},l)},s=function(n){var l=n.type;return u.a.createElement("div",{className:"block ".concat(l)})},m=[[[null,null,null,null],[null,"o","o",null],[null,"o","o",null],[null,null,null,null]],[[null,null,null,null],[null,null,"s2",null],[null,"s2","s2",null],[null,"s2",null,null]],[[null,null,null,null],[null,"s",null,null],[null,"s","s",null],[null,null,"s",null]],[[null,null,null,null],[null,"t",null,null],["t","t","t",null],[null,null,null,null]],[[null,"i",null,null],[null,"i",null,null],[null,"i",null,null],[null,"i",null,null]],[[null,null,null,null],[null,"l",null,null],[null,"l",null,null],[null,"l","l",null]],[[null,null,null,null],[null,null,"j",null],[null,null,"j",null],[null,"j","j",null]]],b=function(n){return n.map(function(l,t){return l.map(function(l,e){return n[3-e][t]})})},y=function(n,l){return l.matrix.some(function(t,e){return t.some(function(t,u){return l.matrix[e][u]&&n[e+l.y]&&n[e+l.y][u+l.x]})})},h=function(n,l){return n.map(function(n,t){return n.map(function(n,e){return l.matrix[t-l.y]&&l.matrix[t-l.y][e-l.x]||n})})},v=function(n,l,t){return n.matrix.reduce(function(e,u,r){return a=e,o=u.reduce(function(e,u,a){return{top:e.top||u&&r+n.y<0,left:e.left||u&&a+n.x<0,right:e.right||u&&a+n.x>=l,bottom:e.bottom||u&&r+n.y>=t}},{}),{top:a.top||o.top,left:a.left||o.left,bottom:a.bottom||o.bottom,right:a.right||o.right};var a,o},{})},d=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],l=arguments.length>1?arguments[1]:void 0,t=n.filter(function(n){return!n.every(function(n){return!!n})});return[].concat(Object(c.a)(new Array(n.length-t.length).fill(null).map(function(n){return new Array(l).fill(null)})),Object(c.a)(t))},j=new Array(20).fill(null).map(function(n){return new Array(10).fill(null)}),p=function(){return{x:3,y:-1,matrix:m[Math.round(Math.random()*(m.length-1))]}},w=function(){var n=Object(e.useState)(j),l=Object(i.a)(n,2),t=l[0],r=l[1],a=Object(e.useState)(t),m=Object(i.a)(a,2),w=m[0],x=m[1],O=Object(e.useState)(p()),g=Object(i.a)(O,2),k=g[0],E=g[1],A=Object(e.useState)(0),S=Object(i.a)(A,2),N=S[0],B=S[1],D=Object(e.useState)(null),I=Object(i.a)(D,2),J=I[0],M=I[1],T=null,W=function(){clearTimeout(J),M(setTimeout(function(){return B(N+1)},500))};Object(e.useEffect)(function(){T&&T.focus()},[]),Object(e.useEffect)(function(){return x(t.map(function(n,l){return n.map(function(n,t){return n||k.matrix[l-k.y]&&k.matrix[l-k.y][t-k.x]||null})}))},[t,k]);var K=function(n){for(var l=Object(c.a)(k.matrix),e=0;e<n;e++)l=b(l);var u=Object(o.a)({},k,{matrix:l}),r=v(u,10,20);!y(t,u)&&!r.left&&!r.right&&!r.bottom&&(W()||E(u))},L=function(){var n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],l=Object(o.a)({},k,{y:k.y+1});if(n){for(;!v(l,10,20).bottom&&!y(t,l);)l=Object(o.a)({},l,{y:l.y+1});return l.y-=1,r(d(h(t,l),10)),E(p()),W(),!1}return v(l,10,20).bottom||y(t,l)?(r(d(h(t,k),10)),E(p()),W(),!1):(E(l),W(),!0)};Object(e.useEffect)(function(){L()},[N]);var R=function(){var n=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],l=Object(o.a)({},k,{x:k.x+(n?1:-1)}),e=v(l,10,20);return!(e.left||e.right||y(t,l))&&(E(l),!0)};return u.a.createElement("div",{className:"tetris-board",tabIndex:"0",ref:function(n){return T=n},onKeyDown:function(n){switch(n.key){case"s":case"ArrowDown":L();break;case"a":case"ArrowLeft":R(!1);break;case"d":case"ArrowRight":R(!0);break;case"j":K(3);break;case"k":K(1);break;case" ":L(!0)}}},w.map(function(n,l){return u.a.createElement(f,{key:l},n.map(function(n,t){return u.a.createElement(s,{key:[l,t],type:n})}))}))};var x=function(){return u.a.createElement("div",{className:"App"},u.a.createElement(w,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a.a.render(u.a.createElement(x,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(n){n.unregister()})},6:function(n,l,t){n.exports=t(14)}},[[6,1,2]]]);
//# sourceMappingURL=main.19f275b2.chunk.js.map